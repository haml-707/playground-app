<script setup>
import { useRouter } from "vue-router";

import { courseList } from "@/shared/composition/course";

import OButton from "@/components/OButton.vue";
import OCard from "@/components/OCard.vue";

import sloganBg from "@/assets/bg/home-bg-slogan.png";
import bannerBg from "@/assets/bg/home-bg-banner.png";
import courseBoxBg from "@/assets/bg/home-bg-course_box.png";
import courseLeftBg from "@/assets/bg/home-bg-course_left.png";
import courseRightBg from "@/assets/bg/home-bg-course_right.png";

const router = useRouter();

// banner文字
const bannerLabels = {
  title: [
    { id: "first", text: "在浏览器中" },
    { id: "second", text: "使用真实环境学习新技术" },
  ],
  description: "软件工程师互动学习与培训平台",
};

// sologan文字
const sloganLables = {
  title: "Your first coding experience in openEuler",
  logo: "moocstudio",
  description: [
    { id: "first", text: "Moocstudio是集计算机课程编写和学习一体的教育平台" },
  ],
};

// course文字
const courseLabels = {
  title: "最新课程",
  startBtn: "开始课程",
};

// 进入课程
function gotoCourse(item) {
  router.push({
    path: `/course/${item._course.content_dir}`,
  });
}
</script>

<template>
  <div class="mooc-banner" :style="{ backgroundImage: `url(${bannerBg})` }">
    <div class="wrap">
      <div class="mooc-banner-label">
        <p
          v-for="item in bannerLabels.title"
          :key="item.id"
          class="banner-label-title"
        >
          {{ item.text }}
        </p>
        <p class="banner-label-desc">{{ bannerLabels.description }}</p>
      </div>
    </div>
  </div>

  <div :style="{ backgroundImage: `url(${sloganBg})` }" class="mooc-slogan">
    <div class="wrap">
      <div class="mooc-slogan-box">
        <p class="mooc-slogan-logo">{{ sloganLables.logo }}</p>
        <p class="mooc-slogan-title">{{ sloganLables.title }}</p>
        <p
          v-for="item in sloganLables.description"
          :key="item.id"
          class="mooc-slogan-desc"
        >
          {{ item.text }}
        </p>
      </div>
    </div>
  </div>

  <div class="mooc-course">
    <div
      class="mooc-course-bg_left"
      :style="{ backgroundImage: `url(${courseLeftBg})` }"
    ></div>
    <div
      class="mooc-course-bg_right"
      :style="{ backgroundImage: `url(${courseRightBg})` }"
    ></div>
    <div class="wrap">
      <div class="mooc-course-box">
        <div
          class="mooc-course-box_decorate"
          :style="{ backgroundImage: `url(${courseBoxBg})` }"
        ></div>
        <div class="mooc-course-title">{{ courseLabels.title }}</div>
        <div class="mooc-course-list">
          <o-card
            v-for="item in courseList"
            :key="item.id"
            :body-style="{
              height: '100%',
              display: 'flex',
              flexDirection: 'column',
              justifyContent: 'space-between',
              // backgroundImage: `url(${item.cover})`,
            }"
            class="card"
          >
            <div class="card-content">
              <img :src="item.logo" class="logo" />
              <p class="title">{{ item.title }}</p>
              <p class="detail">{{ item.description }}</p>
            </div>
            <div class="card-operate">
              <o-button primary icon="arrow-right" @click="gotoCourse(item)">{{
                courseLabels.startBtn
              }}</o-button>
            </div>
          </o-card>
        </div>
      </div>
    </div>
  </div>
</template>

<style lang="scss" scoped>
.mooc-banner {
  width: 100%;
  background-color: #002fa7;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  .wrap {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1488px;
    margin: 0 auto;
    padding: 100px 36px 110px;

    @media screen and (max-width: 1023px) {
      // padding: 40px 24px;
      // flex-direction: column;
      // align-items: center;
    }

    .mooc-banner-label {
      font-size: 64px;
      color: #ffffff;
      letter-spacing: 0;
      line-height: 84px;
      font-weight: 500;

      @media screen and (max-width: 1023px) {
        // font-size: 40px;
        // line-height: 48px;
      }

      .banner-label-desc {
        margin-top: 10px;
        font-size: 24px;
        color: #ffffff;
        letter-spacing: 0;
        line-height: 32px;
        font-weight: 400;
        opacity: 0.8;

        @media screen and (max-width: 1023px) {
          // font-size: 16px;
          // line-height: 24px;
        }
      }
    }
  }
}

.mooc-slogan {
  width: 100%;
  background-color: #002fa7;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;

  @media screen and (max-width: 1023px) {
    // padding: 76px 24px;
  }

  .wrap {
    max-width: 1488px;
    margin: 0 auto;
    padding: 0 36px 60px;

    .mooc-slogan-box {
      width: 100%;
      background: #f5f7fb;
      padding: 64px 0 40px;
      position: relative;
      .mooc-slogan-logo {
        position: absolute;
        font-size: 72px;
        font-weight: bold;
        color: #002fa7;
        line-height: 85px;
        letter-spacing: 21px;
        opacity: 0.1;
        top: 24px;
        left: 50%;
        transform: translateX(-50%);
      }
      .mooc-slogan-title {
        font-size: 40px;
        font-weight: normal;
        color: #002fa7;
        line-height: 48px;
        text-align: center;
        font-weight: bold;
      }

      .mooc-slogan-desc {
        margin-top: 4px;
        text-align: center;
        font-size: 18px;
        font-weight: 400;
        color: #555555;
        line-height: 24px;
      }
    }
  }
}

.mooc-course {
  width: 100%;
  min-height: 600px;
  background-color: #002fa7;
  position: relative;

  .mooc-course-bg_left {
    position: absolute;
    top: 60px;
    left: 0;
    width: 128px;
    height: 490px;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  .mooc-course-bg_right {
    position: absolute;
    top: 143px;
    right: 0;
    width: 209px;
    height: 267px;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }
  .wrap {
    max-width: 1488px;
    margin: 0 auto;
    padding: 0 36px 198px;
    @media screen and (max-width: 1023px) {
      // padding: 0 24px 198px 24px;
    }

    .mooc-course-box {
      width: 100%;
      padding: 60px 180px;
      background: #f5f7fb;
      position: relative;

      .mooc-course-box_decorate {
        position: absolute;
        top: 0;
        right: 0;
        width: 204px;
        height: 83px;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
      }

      .mooc-course-title {
        text-align: center;
        font-size: 36px;
        font-weight: normal;
        color: #000000;
        line-height: 48px;
      }

      .mooc-course-list {
        display: grid;
        grid-template-columns: repeat(3, minmax(200px, 1fr));
        column-gap: 32px;
        row-gap: 32px;
        margin-top: 32px;
        @media screen and (max-width: 1023px) {
          // grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }

        .card {
          background-color: #ffffff;
          box-shadow: 0px 12px 32px 0px rgba(190, 196, 204, 0.2);

          &:hover {
            box-shadow: 0px 4px 20px 4px rgba(190, 196, 204, 0.2);
          }
          .card-content {
            display: flex;
            flex-direction: column;
            justify-content: space-between;

            img {
              width: 48px;
              height: 48px;
              object-fit: contain;
              vertical-align: top;
            }

            .title {
              margin-top: 20px;
              font-size: 18px;
              font-weight: normal;
              color: #000000;
              line-height: 24px;
            }

            .detail {
              margin-top: 4px;
              font-size: 14px;
              font-weight: normal;
              color: #555555;
              line-height: 22px;
            }
          }

          .card-operate {
            margin-top: 48px;
          }
        }
      }
    }
  }
}
</style>
